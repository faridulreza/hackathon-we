{"version":3,"file":"contentScript.8a9597bc6c48c33ea625.hot-update.js","mappings":";;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAQA;AAEA;;;;;;;;AC5GA","sources":["webpack://chrome-extension-boilerplate-react/./src/pages/Content/modules/Student.jsx","webpack://chrome-extension-boilerplate-react/webpack/runtime/getFullHash"],"sourcesContent":["import React from \"react\";\r\n\r\nimport styles from \"./student.module.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { db, rdb, firebase } from \"../../../../firebase\";\r\n\r\nlet students_presents = {};\r\n\r\nconst SingleStudent = ({ student }) => {\r\n  const [CI, setCI] = useState(0);\r\n\r\n  useEffect(() => {\r\n    rdb.ref(student.uid).on(\"value\", (snap) => {\r\n      setCI(snap.val());\r\n    });\r\n  }, []);\r\n\r\n  console.log(\"sd\", student);\r\n\r\n  return (\r\n    <div className={styles.cardStudent}>\r\n      <div className={styles.textfieldStudent}>\r\n        <img className={styles.imageClass} src={student.photo}></img>\r\n        <span className={styles.studentName}>{student.name}</span>\r\n        <span className={styles.studentName}>{student.reg}</span>\r\n      </div>\r\n      <div className={styles.progress}>\r\n        {(Math.round(CI * 100) / 100).toFixed(2)}%\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst Students = ({ classID, setShow }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [students, setStudents] = useState([]);\r\n  const [student_ids, setStudent_ids] = useState([]);\r\n\r\n  useEffect(() => {\r\n    student_ids.forEach((id) => {\r\n      db.collection(\"users\")\r\n        .doc(id)\r\n        .get()\r\n        .then((st) => {\r\n          let di = {\r\n            name: st.get(\"name\"),\r\n            reg: st.get(\"reg\"),\r\n            photo: st.get(\"photo\"),\r\n            uid: id,\r\n          };\r\n          console.log(\"Sss\", di);\r\n          setStudents((pre) => {\r\n            return [...pre, di];\r\n          });\r\n        });\r\n    });\r\n  }, [student_ids]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"classes\")\r\n      .doc(classID)\r\n      .onSnapshot((doc) => {\r\n        let data = doc.data();\r\n        console.log(data);\r\n        let attentions = data.attentions;\r\n\r\n        for (let i = 0; i < attentions.length; i++) {\r\n          let at_id = attentions[i];\r\n          db.collection(\"attentions\")\r\n            .doc(at_id)\r\n            .get()\r\n            .then((d) => {\r\n              let sid = d.get(\"student\");\r\n\r\n              if (!students_presents[sid]) {\r\n                students_presents[sid] = true;\r\n                console.log(\"here\", sid);\r\n\r\n                setStudent_ids((pre) => {\r\n                  return [...pre, sid];\r\n                });\r\n              }\r\n            });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className={styles.homeContainer}>\r\n          <div className={styles.innerContainer}>\r\n            {students.map((student, index) => {\r\n              return <SingleStudent student={student} key={index} />;\r\n            })}\r\n          </div>\r\n          <button\r\n            onClick={() => setShow(false)}\r\n            className={styles.signoutButton}\r\n          >\r\n            HIDE\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Students;\r\n","__webpack_require__.h = () => (\"4aa140aefd6af5ba1939\")"],"names":[],"sourceRoot":""}